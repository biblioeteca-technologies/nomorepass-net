# NoMorePass .Net libraries

**C# Libraries for nomorepass.com public API.** <br>
You can use this library in combination with nomorepass app (nomorepass.com) to send or receive passwords in a safe an easy way.
The library doesnÂ´t generate / print the qr-code, instead provides the text that should be included in the qrcode (you can generate using any qrcode libraries).
<br></br>
NuGet guaranteed compatible for versions **.Net Standard 2.0 / 2.1** , **.Net Framework 4.7.2 / 4.8** , **.Net 5.0 / 6.0 / 7.0**
## How to use
**To send passwords to the App Phone:**
```c#
using nomorepass_net;

//Nomorepass initialization
NoMorePass noMorePass = new NoMorePass();
noMorePass._apikey = "MYAPIKEY";

// QR to send the password
Console.WriteLine("Generating QR");
Console.WriteLine(await noMorePass.GetQrSend(
    "Test password",
    "usertest",
    "mypassword",
    new Dictionary<string, object>()));
Console.WriteLine("Scan this QR to receive a new password");

// Time for the user to scan the QR
Dictionary<string, object> res = null;
await Task.Delay(TimeSpan.FromSeconds(30)).ContinueWith((t) =>
{
    if (res == null)
    {
        noMorePass.stopped = true;
    }
}).ContinueWith((t) =>
{
    if (noMorePass.stopped == true)
    {
        Console.WriteLine("Aborted!");
        noMorePass.Stop();
    }
});

//Check if the sent password has been received.
Console.WriteLine("Waiting for reception (30sec waiting)");
res = await noMorePass.Send();
Console.WriteLine("Received!");
```
<br></br>
**To receive passwords from the App Phone:**
```c#
using nomorepass_net;

//Nomorepass initialization
NoMorePass noMorePass = new NoMorePass();
noMorePass._apikey = "MYAPIKEY";

//Set expiry time.
int expiry = (int)(DateTime.UtcNow.AddSeconds(20) - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc)).TotalSeconds;
noMorePass.SetExpiry(expiry); // 20 sec expiry

//QR to receive the password
Console.WriteLine("Generating QR...");
Console.WriteLine(await noMorePass.GetQrText("prueba"));
Console.WriteLine("Scan this QR to send a password back");

//Time for the user to scan the QR
Dictionary<string, string> res = null;
await Task.Delay(TimeSpan.FromSeconds(30)).ContinueWith((t) =>
{
    if (res == null)
    {
        noMorePass.stopped = true;
    }
}).ContinueWith((t) =>
{
    if (noMorePass.stopped == true)
    {
        Console.WriteLine("Aborted!");
        noMorePass.Stop();
    }
});

//Start the pulling process to receive the password.
Console.WriteLine("Waiting for reception (30sec waiting)");
noMorePass.stopped = false;
res = await noMorePass.Start();
if (res != null && res.ContainsKey("error"))
{
    Console.WriteLine("Error: " + res["error"]);
}
else
{
    if (res != null)
    {
        Console.WriteLine("User: " + res["user"]);
        Console.WriteLine("Pass: " + res["password"]);
        Console.WriteLine("Extra: " + res["extra"]);
    }
}
```
<br></br>
## Examples
You have an example file (example\exampleNoMorePassNet or example\ExampleXamarinForms) in the example file
## How to use NoMorePass
1. Download and install the mobile app

* [android] https://play.google.com/store/apps/details?id=com.biblioeteca.apps.NoMorePass
* [ios] https://itunes.apple.com/us/app/no-more-pass/id1199780162?l=es&ls=1&mt=8

2. Open it and create a new password (or use some of yours)
3. Then you can scan the qrcode generated by the library to send securely this password to your app or send/update passwords from your code to the app.

## Help / more info

Visit [nomorepass.com](https://nomorepass.com) or leave an Issue

(C) 2021 Nomorepass.com + Biblioeteca Technologies
